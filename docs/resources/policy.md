---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "headscale_policy Resource - terraform-provider-headscale"
subcategory: ""
description: |-
  The policy resource allows definition of the ACL policy used for the tailnet. To use this resource, the Headscale instance must have the policy.mode setting set to database.
  To read more about ACL policies, see the Tailscale documentation https://tailscale.com/kb/1018/acls.
---

# headscale_policy (Resource)

The policy resource allows definition of the ACL policy used for the tailnet. To use this resource, the Headscale instance must have the `policy.mode` setting set to `database`.

To read more about ACL policies, see the [Tailscale documentation](https://tailscale.com/kb/1018/acls).

## Example Usage

```terraform
# Basic ACL policy
resource "headscale_policy" "basic" {
  policy = jsonencode({
    "acls" : [{
      "action" : "accept"
    }]
  })
}

# Complex policy with groups and tag owners
resource "headscale_policy" "complex" {
  policy = jsonencode({
    "groups" : {
      "group:admin" : ["user1@", "user2@"],
      "group:dev" : ["user3@", "user4@"]
    },
    "tagOwners" : {
      "tag:prod" : ["group:admin"],
      "tag:dev" : ["group:dev"]
    },
    "acls" : [
      {
        "action" : "accept",
        "src" : ["group:admin"],
        "dst" : ["*:*"]
      },
      {
        "action" : "accept",
        "src" : ["group:dev"],
        "dst" : ["tag:dev:*"]
      }
    ],
    "ssh" : [
      {
        "action" : "accept",
        "src" : ["group:admin"],
        "dst" : ["*"],
        "users" : ["root", "ubuntu"]
      }
    ]
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `policy` (String) The policy data in HuJSON format. See https://tailscale.com/kb/1337/policy-syntax.

### Read-Only

- `id` (String) The Terraform Id of the resource.
- `updated` (String) The time when the policy was last updated.
